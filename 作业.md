#include <iostream>
#include <fstream>
using namespace std;

int main() {
	long long int number1[10001], number2[10001], number3[10001], number4[10001], number5[10001];

​	long long int number11[10001], number21[10001], number31[10001], number41[10001], number51[10001];

​	int point1[10001], point2[10001], point3[10001], point4[10001];

​	char ds1[10001], ds2[10001], ds3[10001], ds4[10001];

​	int dp1[10001], dp2[10001], dp3[10001], dp4[10001];

​	long long int ip11[10001], ip21[10001], ip1[10001], ip2[10001]; 
​	int sum1[10001], sum2[10001];
​	int zw1[50], zw2[50], zw3[50], zw4[50];

	char s, l, k;
	int s1;//除去
	int length = 0;


	ifstream file("text.txt");
	while (!file.eof()) {
		file >> s >> number1[length] >> s >> number2[length] >> s >> number3[length] >> s >> number4[length] >> s >> number5[length];
		file >> number11[length] >> s >> number21[length] >> s >> number31[length] >> s >> number41[length] >> s >> number51[length];
		file >> point1[length] >> s >> point2[length] >> point3[length] >> s >> point4[length];
		file >> s1 >> s >> ds1[length] >> ds2[length] >> l >> s1 >> k >> ds3[length] >> ds4[length];
		/*输入数据*/ fin("pack.txt");
	while (!fin.eof()) {
		fin >> ans1[packlength] >> ans2[packlength] >> ans3[packlength] >> ans4[packlength] >> ans5[packlength];
		packlength++;
	}
	length--;
	packlength--;
	ofstream fout;
	fout.open("output.txt");
	for (int i = 0; i < packlength; i++) {
		flag = 0;
		for (int j = 0; j < length; j++) {
			if (ans3[i] >= point1[j] && ans3[i] <= point2[j] && ans4[i] >= point3[j]
				&& ans4[i] <= point4[j]) {
				if ((sum2[j] != 255) || (sum1[j] == ans5[i] && sum2[j] == 255)) {

					if (number5[j] == 32 && number51[j] == 32 && ans1[i] == ip1[j] && ans2[i] == ip2[j]) {
						flag = 1;
						fout << j << "\n";
						break;
					}
					if (number5[j] == 32 && number51[j] == 31 && ans1[i] == ip1[j] && (ans2[i] == ip2[j] || ans2[i] == ip21[j])) {
						flag = 1;
						fout << j << "\n";
						break;
					}
					if (number5[j] == 32 && number51[j] < 31) {
						if (ans1[i] == ip1[j] && ans2[i] >= ip2[j] && ans2[i] <= ip21[j]) {
							flag = 1;
							fout << j << "\n";
							break;
						}
	
					}
					if (number5[j] == 31 && number51[j] == 32 && ans2[i] == ip2[j] && (ans1[i] == ip1[j] || ans1[i] == ip11[j])) {
						flag = 1;
						fout << j << "\n";
						break;
	
					}
					if (number5[j] == 31 && number51[j] == 31 && (ans2[i] == ip2[j] || ans2[i] == ip21[j]) && (ans1[i] == ip1[j]
						|| ans1[i] == ip11[j])) {
						flag = 1;
						fout << j << "\n";
						break;
	
					}
	
					if (number5[j] == 31 && number51[j] < 31) {
						if ((ans1[i] == ip1[j] || ans1[i] == ip11[j]) && ans2[i] >= ip2[j] && ans2[i] <= ip21[j]) {
							flag = 1;
							fout << j << "\n";
							break;
						}
	
					}
					if (number5[j] < 31 && number51[j] == 32) {
						if (ans2[i] == ip2[j] && ans1[i] >= ip1[j] && ans1[i] <= ip11[j]) {
							flag = 1;
							fout << j << "\n";
							break;
						}


```c++
				}
				if (number5[j] < 31 && number51[j] == 31) {
					if (ans1[i] >= ip1[j] && ans1[i] <= ip11[j] && (ans2[i] == ip2[j] || ans2[i] == ip21[j])) {
						flag = 1;
						fout << j << "\n";
						break;
					}

				}
				if (number5[j] < 31 && number51[j] < 31) {
					if (ans2[i] >= ip2[j] && ans2[i] <= ip21[j] && ans1[i] >= ip1[j] && ans1[i] <= ip11[j]) {
						flag = 1;
						fout << j << "\n";
						break;
					}

				}
			}

		}

	}
```